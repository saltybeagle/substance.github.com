<!DOCTYPE html>
<html>
<head>

  <!--
    This document has been generated by the Substance Composer (1.0.0 Beta-1)
    http://substance.io/composer
   -->

  <meta charset="utf-8"/>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

  <link href="style.css" rel="stylesheet" />
  

  <title>How to create a custom template for Substance</title>
</head>
<body>

<div class="article">
<div id="cover" class="content-node cover">
<div class="content">
<div class="published-on">Fri Apr 18 2014</div>
<h1>How to create a custom template for Substance</h1>
<div class="authors">
  
    <a href="#contributor_66a9ce0d804fdf8b4540a5d2de83fcfb" class="author">Michael Aufreiter</a>
  
</div>

 



</div>
</div>
<div id="text1" class="content-node text">
<div class="content">
  With <a href="http://substance.io/beta" title="Substance Composer Beta">Substance Composer Beta 2</a> users can create their own templates to customize the output of the Substance Composer.
</div>
</div>
<div id="3a5e6ba4d29b72ae3c4bf4551348ba86" class="content-node text">
<div class="content">
  <em>Note: This guide is a work in progress.</em>
</div>
</div>

<div id="heading_51259c7a289b837048d82fdfeb9e1c5d" class="content-node heading level-1">
  <div class="content">
    <a href="#heading_51259c7a289b837048d82fdfeb9e1c5d" class="anchor">#</a>
    <h1>Setup</h1>
  </div>
</div>
<div id="386b16fc6e92d18bb4b7ed42ab960835" class="content-node text">
<div class="content">
  A good way to start is to <a href="https://github.com/substance/templates/archive/v0.1.0.zip" title="Substance Default Templates">download</a> the default set of templates, and use that as a basis for your own template.
</div>
</div>
<div id="c6e6c37277d396b2e5cde5dce54d2954" class="content-node text">
<div class="content">
  Find the Substance Composer Application Folder at <code>~/Library/Application Support/Substance Composer</code>. Create a <code>templates</code> folder if it doesn't already exist.
</div>
</div>
<div id="0555cc280eee1f4aedcaafcc7cc0de97" class="content-node text">
<div class="content">
  Put your custom template there. Use a machine-readable name for the folder. E.g. <code>ocean-blue</code>.
</div>
</div>
<div id="d2ee427eda464976dd191837ba91e864" class="content-node text">
<div class="content">
  Make sure you have specified a template configuration in a <code>config.json</code> file.
</div>
</div>
<div id="code_block_370debda590cd0182d7107364e9a9089" class="content-node code-block">
<div class="content">
<pre>{
  &quot;id&quot;: &quot;ocean-blue&quot;,
  &quot;name&quot;: &quot;Ocean Blue&quot;,
  &quot;params&quot;: {
    &quot;include_toc&quot;: {
      &quot;type&quot;: &quot;boolean&quot;,
      &quot;name&quot;: &quot;Table of Contents&quot;,
      &quot;default&quot;: false
    },
    ...
  }
}</pre>
</div>
</div>
<div id="text_948b83972846e4c47c71ffddca108f16" class="content-node text">
<div class="content">
  Substance templates do support <strong>params</strong>, which are exposed in the Composer user interface as checkboxes. E.g. you can let the user choose if they want to include a <em>Table of Contents</em> with their publication or not.
</div>
</div>

<div id="heading_b5acf91b94f2ca8a22c81cc21ec1c273" class="content-node heading level-1">
  <div class="content">
    <a href="#heading_b5acf91b94f2ca8a22c81cc21ec1c273" class="anchor">#</a>
    <h1>Customize the main layout</h1>
  </div>
</div>
<div id="e9ea83b8a6f32e82ed2c169bb0e4d7a9" class="content-node text">
<div class="content">
  Customize the main layout in <code>nodes/document.html</code>. You can put any <em>HTML</em> in there along with <em>EJS</em> for generated content. Here's a very basic example.
</div>
</div>
<div id="code_block_700f4fbfab8b89ac27f292b0684cd4a8" class="content-node code-block">
<div class="content">
<pre>&lt;html&gt;
&lt;head&gt;
&lt;link href=&quot;style.css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;title&gt;&lt;%= doc.title %&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;%= render(doc) %&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
</div>
<div id="d65cb065c1eb4cf72f4534560eb24238" class="content-node text">
<div class="content">
  Note, that we expose a render function, which inserts the contents of the document at that position.
</div>
</div>

<div id="heading_563418a05f5cf49583610c36a078dffd" class="content-node heading level-1">
  <div class="content">
    <a href="#heading_563418a05f5cf49583610c36a078dffd" class="anchor">#</a>
    <h1>CSS and images</h1>
  </div>
</div>
<div id="e3cc3b152c523811040b23c232fdc65f" class="content-node text">
<div class="content">
  Just put your custom css files into the assets folder. They'll be exposed in the root of the generated page, so you can embed them with a link tag as usual (see example above). Same goes for images. Keep the assets folder flat, as we do not support sub-folders yet. Soon to come.
</div>
</div>

<div id="heading_fe8a6d7a0767c17c9eefba2b70f7b675" class="content-node heading level-1">
  <div class="content">
    <a href="#heading_fe8a6d7a0767c17c9eefba2b70f7b675" class="anchor">#</a>
    <h1>Customize Markup of indidual node types</h1>
  </div>
</div>
<div id="48e90e459dfa83e0b12d271008b0ae22" class="content-node text">
<div class="content">
  Most of the time the default implementations of node templates in combination with CSS will suffice, but you can certainly customize their markup too. E.g. here's an example implementation of the <code>figure.html</code> template.
</div>
</div>
<div id="code_block_543f9811d46e2ba3c013882fd5979b7a" class="content-node code-block">
<div class="content">
<pre>&lt;div id=&quot;&lt;%= node.id %&gt;&quot; class=&quot;content-node figure&quot;&gt;
  &lt;div class=&quot;content&quot;&gt;
    &lt;a href=&quot;&lt;%= node.image %&gt;&quot; target=&quot;_blank&quot;&gt;
      &lt;img src=&quot;&lt;%= node.image %&gt;&quot;&gt;
    &lt;/a&gt;
    &lt;% if (node.caption) { %&gt;
    &lt;div class=&quot;caption&quot;&gt;
      &lt;%= annotated([node.caption, 'content']) %&gt;
    &lt;/div&gt;
    &lt;% } %&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
</div>
</div>
<div id="text_c01092686c7702135f68b4c14372b3b2" class="content-node text">
<div class="content">
  
</div>
</div>

<div id="publication_info" class="content-node publication-info">
  <div class="content">

    
    
    
      <div class="authors">
        
          <div class="author" id="contributor_66a9ce0d804fdf8b4540a5d2de83fcfb">
            <div class="author-name">Michael Aufreiter</div>
            <img class="author-image" src="contributor_66a9ce0d804fdf8b4540a5d2de83fcfb.png"/>
            <div class="author-description">As the initiator of Substance, Michael coordinates the project and leads UI/UX development. He is a passionate open source commiter since many years. Notable projects include Prose, a visual interface for managing content on GitHub, eLife Lens and of course Substance.</div>
          </div>
        
      </div>
    

    

    
      <div class="citations">
        <div class="label">References</div>
        
          <div class="citation" id="web_resource_ed7112854926f625b463e4ca6985adb3">
            <div class="citation-url"><a href="https://github.com/substance/templates/archive/v0.1.0.zip">https://github.com/substance/templates/archive/v0.1.0.zip</a></div>
            <div class="citation-description">Substance Default Templates</div>
          </div>
        
          <div class="citation" id="web_resource_18032466c8b060914abc47643d6fe9e3">
            <div class="citation-url"><a href="http://substance.io/beta">http://substance.io/beta</a></div>
            <div class="citation-description">Substance Composer Beta</div>
          </div>
        
      </div>
    

    
      <div class="supplements">
        <div class="label">Supplements</div>
        <div class="file">
          <div class="file-name"><a href="how-to-create-a-custom-template-for-substance.sdf">how-to-create-a-custom-template-for-substance.sdf</a></div>
          <div class="file-description">
            Download this article to read offline, add personal notes and even edit.<br/>Just make sure to install the <a href="http://substance.io/composer">Substance Composer</a> on your desktop.
          </div>
        </div>
      </div>
    

    
    <div class="copyright">
      <div class="label">Copyright</div>
      

      
      <div class="copyright-statement">
        Copyright &copy; 2014
        Michael Aufreiter
      </div>
      
      <div class="license">
        This article is distributed under the terms of the Creative Commons Attribution License, which permits unrestricted use and redistribution provided that the original author and source are credited.
        
        See <a href="http://creativecommons.org/licenses/by/3.0/us/">Creative Commons Attribution License</a>.
        
      </div>
    </div>
    
  </div>
</div>
</div>

<script>
  
</script>
</body>
</html>
